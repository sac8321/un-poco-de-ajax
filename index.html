<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Curso ajax</title>
	<style type="text/css">
		.encontrado{
			color:green;
		}
		.no-encontrado{
			color:red;
		}
	</style>
</head>
<body>

	<!-- <button onclick="ajax_get_json()">Mostrar Datos</button> -->
	Buscar persona: <input type="text" onkeyup="ajax_get_json(this.value)"/>

	<div id="info"></div>

	<script type="text/javascript">


		function ajax_get_json(usuarioIngresado) 
		{
			var resultado=document.getElementById("info");
			var xmlhttp;

			if (window.XMLHttpRequest)
			{
				xmlhttp=new XMLHttpRequest();
			}else{
				xmlhttp=new ActiveXObject("Microsoft.XMLHttp");
			}

			if(usuarioIngresado.length===0)
			{
				resultado.innerHTML="";
			}
			else
			{
			xmlhttp.onreadystatechange=function()
			{

				if(xmlhttp.readyState===4 && xmlhttp.status===200)
				{
				
					var datos=JSON.parse(xmlhttp.responseText);
					var x =encontrarPersona(datos,usuarioIngresado);
					var mensaje = (x===true) ? "<span class='encontrado'>Se encontr√≥ dato</span>" : 
											   "<span class='no-encontrado'>No fue encontrado</span>";
					resultado.innerHTML=mensaje;
				}
			}
			xmlhttp.open("GET","datos.json",true);
			xmlhttp.send();				
			}
		}

		function encontrarPersona(objetoJson,usuario)
		{
			var arreglo=[];
			for(var i in objetoJson){
				var persona = objetoJson[i];
				arreglo.push(persona.nombre.toUpperCase());
			}
			return arreglo.indexOf(usuario.toUpperCase())>-1;
		}

			

	</script>
</body>
</html>